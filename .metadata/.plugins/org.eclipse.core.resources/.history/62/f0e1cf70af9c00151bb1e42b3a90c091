package friday.todolist.test;

import java.util.Scanner;

import friday.todolist.factory.TaskFactory;
import friday.todolist.implementation.ToDoList;
import friday.todolist.task.GoOutTask;
import friday.todolist.task.SleepTask;
import friday.todolist.task.StudyForAlgebraTask;
import friday.todolist.task.Task;

public class TodoTest {
	public static void main(String[] args) {
		System.out.println("TASK LIST: ");
		System.out.println("   algebra\n   geometry\n   sleep\n   go out");
		Scanner sc = new Scanner(System.in);
		String status = "";
		while (!status.equalsIgnoreCase("q")) {
			System.out
					.println("To add task write a task from the list above or write \"Q\" to quit");
			status = sc.nextLine();
			Task task = TaskFactory.createTask(status);
			System.out.println("Give task priority from 1 to 10");
			int priority = sc.nextInt();
			while (!task.givePriority(priority)) {
				priority = sc.nextInt();
			}
			System.out.println("Give time needed for executing " + task);
			float timeNeeded = sc.nextInt();
			task.setTimeNeeded(timeNeeded);
			System.out.println("You just created a " + task + " with priority "
					+ priority + " and time needed " + timeNeeded);
		}
		StudyForAlgebraTask algebra = new StudyForAlgebraTask();
		// LearnGeometryTask geometry = new LearnGeometryTask();
		GoOutTask goOut = new GoOutTask();
		SleepTask sleep = new SleepTask();
		ToDoList todo = new ToDoList(11); // 11 hours remaining!
		todo.addTask(algebra); // maximum priority!
		// todo.addTask(geometry); // default priority, smaller than
		// // 10
		todo.addTask(goOut); // default priority, smaller than 10
		todo.addTask(sleep); // straight 8 hours, of course!
		todo.markFinished(algebra);
		// System.out.println(algebra);
		if (todo.canFinish()) {
			System.out.println("Woohoo!");
		} else {
			System.out.println("I am ...screwed :(");
		}

		System.out.println(todo.top()); // StudyForAlgebraTask
		// todo.markCancelled(sleep);
		System.out.println(todo.top());
		System.out.println(todo.getTimeNeeded()); // sum of the time needed for
													// every task added in todo
													// list
	}
}
