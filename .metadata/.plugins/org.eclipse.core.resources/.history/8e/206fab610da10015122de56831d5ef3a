package friday.geometryfigure.polygon;

import friday.geometryfigure.point.Point;

public final class Rectangle implements Polygon {
	private Point upperLeft;
	private Point lowerRight;
	private Point upperRight;
	private Point lowerLeft;
	private LineSegment upperVertice;
	private LineSegment lowerVertice;
	private LineSegment leftVertice;
	private LineSegment rightVertice;

	public Rectangle(Point p1, Point p2) {
		if (p1.getX() == p2.getX()) {
			throw new IllegalArgumentException("Points are on the same axis.");
		}
		this.upperLeft = p1;
		this.lowerRight = p2;
		upperRight = new Point(lowerRight.getX(), upperLeft.getY());
		lowerLeft = new Point(lowerRight.getX(), upperLeft.getY());
		upperVertice = new LineSegment(upperLeft, upperRight);
		lowerVertice = new LineSegment(lowerLeft, lowerRight);
		leftVertice = new LineSegment(lowerLeft, upperLeft);
		rightVertice = new LineSegment(lowerRight, upperRight);
	}

	public Rectangle(Rectangle rect) {
		this(rect.upperLeft, rect.lowerRight);
	}

	public Point getUpperLeft() {
		return upperLeft;
	}

	public Point getUpperRight() {
		return upperRight;
	}

	public Point getLowerLeft() {
		return lowerLeft;
	}

	public Point getLowerRight() {
		return lowerRight;
	}

	public LineSegment upperVertice() {
		return upperVertice;
	}

	public LineSegment lowerVertice() {
		return lowerVertice;
	}

	public LineSegment leftVertice() {
		return leftVertice;
	}

	public LineSegment rightVertice() {
		return rightVertice;
	}

	@Override
	public float getPerimeter() {
		return (2 * upperVertice().getLength())
				+ (2 * leftVertice().getLength());
	}

	@Override
	public float getArea() {
		return upperVertice().getLength() * rightVertice().getLength();
	}

	@Override
	public Point getCenter() {
		return new Point((this.lowerLeft.getX() + this.upperLeft.getX()) / 2,
				(this.lowerLeft.getY() + lowerRight.getY()) / 2);
	}

	@Override
	public String toString() {
		return String.format("Rectangle[(%.1f,%.1f),(%.1f,%.1f)]",
				upperLeft.getX(), upperRight.getY(),
				upperVertice().getLength(), rightVertice().getLength());
	}

	public static void main(String[] args) {
		Rectangle rect = new Rectangle(new Point(1, 5), new Point(10, 3));
		System.out.println(rect);
		System.out.println(rect.getCenter());
	}

	public int hashCode() {
		int hash = 17;
		hash = hash * 23 + lowerRight.hashCode();
		hash = hash * 23 + upperLeft.hashCode();
		return hash;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		Rectangle other = (Rectangle) obj;
		if (lowerRight == null) {
			if (other.lowerRight != null)
				return false;
		} else if (!lowerRight.equals(other.lowerRight))
			return false;
		if (upperLeft == null) {
			if (other.upperLeft != null)
				return false;
		} else if (!upperLeft.equals(other.upperLeft))
			return false;
		return true;
	}

	@Override
	public void display() {
		// TODO Auto-generated method stub

	}
}
