package friday.shopinventory.model;

import friday.vattaxcalculator.calculator.VatCalculator;
import friday.vattaxcalculator.database.CountryDatabase;
import friday.vattaxcalculator.model.Country;

public class Product {
	private String productName;
	private int productId;
	private double netPrice;
	private double totalPrice;
	private int quantity;
	private int countryCode;

	public Product(String productName, int productId, double netPrice,
			int quantity, int countryCode) {
		this.productName = productName;
		this.productId = productId;
		this.netPrice = netPrice;
		this.totalPrice = new VatCalculator(new CountryDatabase())
				.calculateTax(netPrice, countryCode);
		this.setQuantity(quantity);
		this.countryCode = countryCode;
	}

	public int getQuantity() {
		return quantity;
	}

	public void setQuantity(int quantity) {
		this.quantity = quantity;
	}

	public double getTotalPrice() {
		return totalPrice;
	}

	@Override
	public String toString() {
		return String
				.format("Product[name: %s, id: %d, netPrice: %.1f, totalPrice: %.1f, quantity: %d, supportedIn: %s]",
						productName, productId, getNetPrice(), totalPrice,
						quantity, countryCode);
	}

	public double getNetPrice() {
		return netPrice;
	}

	public Country getSupportedIn() {
		return countryCode;
	}

	public String getProductName() {
		return productName;
	}

}
