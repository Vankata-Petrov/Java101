import com.boyko.vat.database.CountryDatabase;
import com.boyko.vat.exceptions.CountryNotFoundException;
import com.boyko.vat.models.Country;

public class VatCalculator {
	private CountryDatabase db;

	public VatCalculator(CountryDatabase db) {
		this.db = db;
	}

	public double calculateTax(double netPrice, int countryCode)
			throws CountryNotFoundException {
		Country country = db.getCountry(countryCode);
		double vatRate = country.getVat();
		return netPrice * (1 + (vatRate / 100));
	}

	public double calculateTax(double price) throws CountryNotFoundException {
		return calculateTax(price, 359);
	}
}
