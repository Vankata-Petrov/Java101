package week5.friday.bankaccount.bank;

import java.util.Scanner;

import week5.friday.bankaccount.BankAccount;
import week5.friday.bankaccount.Interest;
import week5.friday.bankaccount.Interest.InterestType;
import week5.friday.bankaccount.interfaces.BankOperation.OperationType;

public class BankDesk {
	private static Scanner sc = new Scanner(System.in);

	public static void main(String[] args) {

		Bank bank = new Bank();
		while (true) {
			switch (sc.nextInt()) {
			case 1:
				System.out.println("Enter first name");
				String firstName = sc.nextLine();

				System.out.println("Enter second name");
				String secondName = sc.nextLine();

				System.out.println("Enter age");
				int age = sc.nextInt();

				System.out
						.println("Choose Interest Type: /n1 for SAMPLE/n2 for COMPLEX");
				InterestType interestType = null;
				switch (sc.nextInt()) {
				case 1:
					interestType = InterestType.SIMPLE;
					break;
				case 2:
					interestType = InterestType.COMPLEX;
					break;
				default:
					break;
				}
				bank.creatAccount(new BankAccount(firstName, secondName, age,
						new Interest(interestType)));
				break;

			default:
				break;
			}
		}
		// BankAccount boykoAccount = new BankAccount(1, "Boyko", "Lalov", 32,
		// new Interest(InterestType.SIMPLE, 0.5));
		//
		// BankAccount ivaAccount = new BankAccount(1, "Iva", "Krusteva", 32,
		// new Interest(InterestType.SIMPLE, 0.5));

		bank.creatAccount(boykoAccount);
		bank.creatAccount(ivaAccount);
		bank.add(boykoAccount, 100);
		bank.add(boykoAccount, 100);
		bank.add(boykoAccount, 100);
		bank.add(boykoAccount, 100);
		bank.add(boykoAccount, 100);
		bank.transfer(boykoAccount, ivaAccount, 100);
		bank.add(ivaAccount, 200);
		bank.transfer(ivaAccount, boykoAccount, 100);
		System.out.println(boykoAccount.getBalance());
		for (OperationType ot : boykoAccount.getOperationHistory()
				.getAccountOperations()) {
			System.out.println(ot);
		}
		for (BankAccount ba : bank.getAllAccounts()) {
			System.out.println(ba);
		}
	}
}
