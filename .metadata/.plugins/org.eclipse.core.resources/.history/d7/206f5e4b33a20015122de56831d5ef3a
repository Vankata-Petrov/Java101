package friday.vattaxcalculator;

import java.util.List;

public class VatTaxCalculator {
	List<CountryVatTax> countrys;

	public VatTaxCalculator() {
		countrys = DataBaseCountry.getDataBase();
	}

	public String calculateTax(double netPrice, int countryId)
			throws NotSupportedCountryException {
		try {
			double countryVatRate = countrys.get(countryId).getVatRate();
			return netPrice * (1 + (countryVatRate / 100))
					+ countrys[countryId - 1].getCurrency();
		} catch (Exception e) {
			throw new NotSupportedCountryException();
		}
	}

	public String calculateTax(double price) {
		// countrys[0].setDefault(false);
		// countrys[4].setDefault(true);
		// double countryVatRate = CountryVatTax.defaultCountry().getVatRate();
		// return price * (1 + (countryVatRate / 100))
		// + CountryVatTax.defaultCountry().getCurrency();
		// return CountryVatTax.defaultCountry().getVatRate() * price;
		return null;
	}

	public static void main(String[] args) {
		VatTaxCalculator calc = new VatTaxCalculator();
		// this example throws NotSupportedCountryException
		System.out.println(calc.calculateTax(100, 1));
		System.out.println(calc.calculateTax(100));
	}
}
