package week5.friday.bank;

import java.util.Scanner;

import week5.friday.bank.account.BankAccount;
import week5.friday.bank.account.Person;
import week5.friday.bank.exception.InsufficientAvailabilityException;
import week5.friday.bank.exception.OvercomeInterestException;
import week5.friday.bank.interfaces.BankOperations;

public class Bank implements BankOperations {

	@Override
	public boolean createBankAccount() {
		Person person = new Person();
		Scanner sc = new Scanner(System.in);
		System.out.println("Please enter your first name");
		person.setFirstName(sc.nextLine());

		System.out.println("Please enter your second name");
		person.setLastName(sc.nextLine());

		System.out.println("Please enter your age");
		person.setAge(Integer.parseInt(sc.nextLine()));

		BankAccount account = new BankAccount(person);
		System.out.println("PLease enter your password");
		account.setPassword(sc.nextLine());

		return false;
	}

	@Override
	public boolean add(BankAccount account, double money) {
		double total = account.getMoney() + money;
		account.setMoney(account.getMoney() + money);
		return account.getMoney() == total;
	}

	@Override
	public double withdraw(BankAccount account, double money)
			throws OvercomeInterestException, InsufficientAvailabilityException {
		if (account.getInterest().getInterestValue() > 1) {
			throw new OvercomeInterestException(
					"Interest is bigger than 1 percent");
		}
		if (account.getMoney() < money) {
			throw new InsufficientAvailabilityException();
		}
		return money;
	}

	@Override
	public boolean transfer(BankAccount account1, BankAccount account2,
			double money) throws OvercomeInterestException,
			InsufficientAvailabilityException {
		double withdrawMoney = withdraw(account1, money);
		return add(account2, withdrawMoney);
	}

	@Override
	public boolean login() {
		// TODO Auto-generated method stub
		return false;
	}

	public static void main(String[] args) {
		new Bank().createBankAccount();
	}
}
