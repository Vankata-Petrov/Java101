package week5.friday.bankaccount;

import java.util.Scanner;

import javax.security.auth.login.LoginException;

public class Login {
	private Scanner sc = new Scanner(System.in);
	private long id;

	public Login(long id) throws LoginException {
		this.id = id;
		login(id);
	}

	private boolean isAccountExist(long id) {
		return AccountManager.accounts.containsKey(id);
	}

	private BankAccount login(long id) throws LoginException {
		if (!isAccountExist(id)) {
			throw new LoginException("Account does not exist!");
		}
		BankAccount account = AccountManager.accounts.get(id);
		System.out.println("Enter name");
		String name = sc.nextLine();

		System.out.println("Enter password");
		String password = sc.nextLine();

		if (!account.getFirstName().equals(name)) {
			throw new LoginException("Invalid name");
		} else if (!account.getPassword().equals(password)) {
			throw new LoginException("Invalid password");
		}

		return account;
	}
}
